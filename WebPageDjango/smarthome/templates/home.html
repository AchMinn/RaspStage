{% extends "base_generic.html" %}
{% load static %}

{% block content %}
  <div class="container">

    <div class="d-flex justify-content-end mb-4">
      <form action="" method="get" class="form-inline">
        <label for="search_word" class="mr-2">Search for:</label>
        <input type="text" id="search_word" name="search_word" class="form-control mr-2" value="{{ search_word }}" placeholder="Enter search term">
        <button type="submit" class="btn btn-primary">Search</button>
      </form>
    </div>

    <h2 class="mt-5">Dynamic Content</h2>
    <p>The smart house has the following:</p>
    <ul class="list-group">
      <li class="list-group-item"><strong>Rooms:</strong> {{ num_rooms }}</li>
      <li class="list-group-item"><strong>Devices:</strong> {{ num_devices }}</li>
      <li class="list-group-item"><strong>Active Devices:</strong> {{ num_devices_active }}</li>
      <li class="list-group-item"><strong>Device Types:</strong> {{ num_device_types }}</li>
    </ul>

    {% if search_word %}
    <h2 class="mt-5">Search Results</h2>
    <ul class="list-group">
      <li class="list-group-item"><strong>Rooms containing "{{ search_word }}": </strong> {{ num_rooms_containing }}</li>
      <li class="list-group-item"><strong>Devices containing "{{ search_word }}": </strong> {{ num_devices_containing }}</li>
    </ul>
    {% endif %}
  </div>
{% endblock %}

{% block extrahead %}
  <link rel="stylesheet" href="{% static 'css/styles.css' %}">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
{% endblock %}